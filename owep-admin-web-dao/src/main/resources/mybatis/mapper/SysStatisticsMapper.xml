<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kclm.owep.mapper.SysStatisticsMapper">

    <sql id="stat_column_list">
       id,
       create_time,
       online_count,
       access_count,
       clazz_count,
       student_count,
       plan_count,
       course_count,
       video_count,
       doc_count,
       exam_count,
       test_count,
       test_item_count
    </sql>

    <insert id="save" parameterType="SysStatistics" useGeneratedKeys="true" keyProperty="id" keyColumn="id">
        insert into t_sys_statistics(
        <include refid="stat_column_list"></include>
        )
        VALUES (null,#{createTime},#{onlineCount},#{accessCount},#{clazzCount},#{studentCount},#{planCount},#{courseCount},#{videoCount},#{docCount},#{examCount},#{testCount},#{testItemCount})
    </insert>

    <update id="update" parameterType="SysStatistics">
        update t_sys_statistics
        <set>
            <if test="onlineCount != null">online_count= #{onlineCount,jdbcType=INTEGER},</if>
            <if test="accessCount != null">access_count= #{accessCount,jdbcType=INTEGER},</if>
            <if test="clazzCount != null">clazz_count= #{clazzCount,jdbcType=INTEGER},</if>
            <if test="studentCount != null">student_count= #{studentCount,jdbcType=INTEGER},</if>
            <if test="planCount != null">plan_count= #{planCount,jdbcType=INTEGER},</if>
            <if test="courseCount != null">course_count= #{courseCount,jdbcType=INTEGER},</if>
            <if test="videoCount != null">video_count= #{videoCount,jdbcType=INTEGER},</if>
            <if test="docCount != null">doc_count= #{docCount,jdbcType=INTEGER},</if>
            <if test="examCount != null">exam_count= #{examCount,jdbcType=INTEGER},</if>
            <if test="testCount != null">test_count= #{testCount,jdbcType=INTEGER},</if>
            <if test="testItemCount != null">test_item_count= #{testItemCount,jdbcType=INTEGER},</if>
        </set>
        where id = #{id}
    </update>

    <delete id="deleteById" parameterType="integer">
        delete from t_sys_statistics where id = #{value}
    </delete>

    <delete id="deleteSelect" parameterType="list">
        delete from t_sys_statistics where id in
        <foreach collection="list" separator="," item="id" open="(" close=")">
            #{id}
        </foreach>
    </delete>
    
    <select id="selectById" resultType="SysStatistics">
        select <include refid="stat_column_list"/>
        from t_sys_statistics where id = #{value}
    </select>

    <select id="selectAll" resultType="SysStatistics">
        select <include refid="stat_column_list"/>
        from t_sys_statistics
    </select>
</mapper>